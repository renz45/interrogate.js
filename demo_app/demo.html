<!doctype html>
<html lang="us">
  <head>
    <meta charset="utf-8">
    <title>Demo page</title>
    <script src="interrogate.js"></script>
    <script src="../app/vendor/javascripts/esprima.js"></script>
    <script src="../app/vendor/javascripts/estraversal.js"></script>
    <script src="../app/vendor/javascripts/escodegen.js"></script>
    <script src="../app/vendor/javascripts/underscore.js"></script>
  </head>
  <body>
    <script>
      code = "while(true){console.log('boom!')}"
      Interrogate.safeEval(code, function(e){console.log(e);})


      code = "var b = 'hello everyone!';"+
      "var a = 123456;"+
      "c = {one: 1, two: 2};"+
      "var d = function(){"+
      "  return 'hello';"+
      "};"+
      "arr = [1,2,3,4,5];"+
      "for(i in arr){"+
      "  console.log(b + ' - ' + arr[i]);"+
      "};"

      console.log(Interrogate.getVars(code))
    </script>
  </body>
</html>